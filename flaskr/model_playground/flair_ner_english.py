from flair.data import Sentence
from flair.models import SequenceTagger

# load tagger
# tagger = SequenceTagger.load("flair/ner-english")
tagger = SequenceTagger.load("flair/ner-english-ontonotes-fast")

# make example sentence
example = "          Your reservation is confirmed        \n          You\n          Modern 2BR Apartment with Laundry        \n          Entire home/apt hosted by Frontdesk        \n        Friday,      \n\n\n        Sunday,      \n\n\n          View full itinerary        \n      Address    \n      917 Locust St, St. Louis, MO 63101, USA    \n        Get directions      \n      Guests    \n      4    \n        Invite guests      \n      Cancellation policy    \n      Cancel before 3:00 PM on Oct 7 and get a full refund. After that, cancel before 3:00 PM on Oct 8 and get a full refund, minus the first night and service fee.    \n      Cutoff times are based on the listing\n        More details      \n      Payments    \n                Payment 1 of 1              \n                $573.99              \n                Oct 07, 2021 \n                VISA \n                Amount paid (USD)              \n                $573.99              \n      Reservation code    \n      HMYWPPWRFD    \n          Change reservation        \n        House rules      \n            Check-in: After 3:00 PM          \n            Checkout: 11:00 AM          \n            Self check-in with lockbo\n          Show all        \n        Safety & Property Info      \n            Security camera/recording device          \n            Carbon mono\n            Smoke alarm          \n          Show all        \n      Frontdesk is your host    \n      Contact Frontdesk to coordinate arrival time and key e\n        Message host      \n                  +1 (314) 530-3306              \n      Know what to e\n      Make sure to review the House Rules and amenities.    \n        Go to House Rules      \n      Customer support    \n      Contact our support team 24/7 from anywhere in the world.    \n        Visit Help Center      \n        Contact Airbnb      \nConsidering travel insurance?            \nGet information on how to protect your trip.Learn more \nCheck for local travel advisories            \nMany places around the world are issuing new restrictions on lodging and travel each day. Before you travel, please check the latest from the local government in order to keep everyone safe and healthy.Learn more \nRefer a host, earn $15 cash                        \n                            Learn more                          \nRefer a host, earn $15 cash                        \n                            Learn more                          \n        Get a friend to start hosting on Airbnb and make e\n        \n          Sent with \n\n        "
# example = "\n\nFrom: Courtyard By Marriott Reservations <reservations@res-marriott.com>Sent: Friday, November 15, 2019 5:49 AMTo: yogbansal@hotmail.comSubject: Reservation Confirmation #71109099 for Courtyard Chicago Glenview/Northbrook\n\n\n\nENHANCE YOUR STAY\n|\nSUMMARY OF CHARGES\n|\nCONTACT US\n\n\nCourtyard Chicago Glenview/Northbrook\n\n1801 Milwaukee Avenue Glenview Illinois 60025 USA\n\n+1-847-803-2500\n\nThank you for booking directly with us, Yogesh Bansal.\n\nYou're ready to move forward.\n\nMon, Nov 18, 2019 \n\nConfirmation Number: 71109099\n\n\n\n\nCheck-In:\nMonday, November 18, 2019\n03:00 PM\n\nCheck-Out:\nWednesday, November 20, 2019\n12:00 PM\n\nNumber of rooms\n1 Room\n\nGuests per room\n1 Adult\n\nGuarantee Method\nCredit Card Guarantee, Visa\n\n\n\nTotal for Stay (all rooms)\n244.62 USD\n\nRoom 1\n\n\n\nRoom Type\n\nGuest room, 2 Queen\n\nGuaranteed Requests:\n\nNon-Smoking Room\n\n\nALL REQUESTS\n\n\nModify or Cancel Reservation\n\nEnhance your stay\n\n\nEarn a $250 Statement Credit\nGet the Marriott Bonvoy Boundless Credit Card and receive a $250 statement credit after first purchase.\nLearn More\n\n\nSave on base rates\nPlus earn up to 2,000 points.\nLearn More\n\n\nFind Things to Do\nView recommended activities and earn points\nBook Activities\n\n\nVacation Up To 70% OFF\n4 days, 3 nights at Marriott\nGet Offer\n\n\nClassic Cocktails & Food\nSip a cocktail. Share a meal. Join us for classics with a twist at the Bistro Bar.\nSee our Menu\n\n\nStream on a Big TV\nAccess Netfli\nLearn More\n\n\nWant anything, anytime?\nSend a request for services, amenities and more before, during and after your stay with the Marriott Bonvoy\nDownload our app\n\n\nWork & Play Hard.\nAt Courtyard you\n\n\n\nMy Account\nYogesh Bansal\nYour Stay: 2 Nights\nView Account\n\nXXXXX1272\nAccount\n127,514\nPoints\nTitanium Elite\nStatus\n\nEnjoy these Titanium Elite benefits* during your stay.\nLearn More\n\n\n75% Bonus on Base Points Earned\n\n\nElite Welcome Gift\n\n\nComplimentary Room Upgrade\n\n*Benefits vary by brand and hotel. Select benefits are subject to availability. Please see fullterms and conditions.\n\n\n\n\nSummary Of Charges\n\nMonday, November 18, 2019 \n\n\n\n2 Nights at 108.00 USD per night per room\n\nAllstate rate, 0.8 miles to office, includes breakfast, wireless internet, self parking, office transportation, 500 Bonus Points per stay, see Rate details\n\n\nTa\n\n\n\nEstimated Government Ta\n14.31 USD\n\nTotals\n\n\n\nTotal for Stay (all rooms)\n244.62 USD\n\nOther Charges\n\nComplimentary on-site parking\n\nRate Details & Cancellation Policy\n\nYou may cancel your reservation for no charge until 06:00 PM hotel time on Monday, November 18, 2019.Please note we will assess a fee if you must cancel after this deadline.\n\n\nPlease note that we will assess a fee of 122.31 USD if you must cancel after this deadline.\n\n\nPlease be prepared to show proof of eligibility for your rate (such as a membership card, corporate or government identification card, or proof of your age).\n\n\nPlease note that a change in the length or dates of your reservation may result in a rate change.\n\nRate Guarantee Limitation(s)\n\n\nChanges in ta\n\nAdditional Information\n\n\nUpon check-in an authorization request will be placed on your credit/debit card in an amount equal to the cost of the room, ta\n\nEnjoy instant benefits because you booked directly with us\n\nMember Rates\n\nFree Wi-Fi\n\nMobile Check-In\nLearn More\n\n\nContact Us\nPhone Numbers\n\nCall 1-800-321-2211 in the US and Canada\n\nFor everywhere else, call our Worldwide Telephone Numbers\n\nFREQUENTLY ASKED QUESTIONS\n\n\n\n\n\n\nTerms of Use\n\nPrivacy Policy\n\nAbout Us\n\nFind a Hotel\nContact Us\nThis email confirmation is an auto-generated message. Replies to automated messages are not monitored. OurInternet Customer Care team is available to assist you 24 hours per day, 7 days per week.\n\nConfirmation Authenticity\nWe're sending you this confirmation notice electronically for your convenience. Marriott keeps an official record of all electronic reservations. We honor our official record only and will disregard any alterations to this confirmation that may have been made after we sent it to you.\n\nEmail Unsubscribe\nYou may opt out of promotional emails at any timehere. Each email also includes a link to unsubscribe. Please note: should you unsubscribe, you will continue to receive emails such as reservation confirmations, hotel stay receipts and changes to program terms and conditions.\n\n\n"
# example = 'MO 63101'
example_arr = []
for line in example.split('\n'):
    example_arr.append(line.strip())

example = "\n".join(example_arr)
sentence = Sentence(example)

# predict NER tags
tagger.predict(sentence)

# print sentence
# print(sentence)

# print predicted NER spans
print('The following NER tags are found:')
# iterate over entities and print
for entity in sentence.get_spans('ner'):
    print(entity)
